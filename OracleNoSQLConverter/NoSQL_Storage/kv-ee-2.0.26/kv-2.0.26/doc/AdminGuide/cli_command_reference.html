<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Appendix A.  Command Line Interface (CLI) Command Reference</title>
    <link rel="stylesheet" href="gettingStarted.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="Oracle NoSQL Database Administrator's Guide" />
    <link rel="up" href="index.html" title="Oracle NoSQL Database Administrator's Guide" />
    <link rel="prev" href="standardized-monitoring.html" title="Chapter 8.  Standardized Monitoring Interfaces" />
  </head>
  <body>
    <div xmlns="" class="navheader">
      <div class="libver">
        <p>Library Version 11.2.2.0</p>
      </div>
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Appendix A. 
        Command Line Interface (CLI) Command Reference
    </th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="standardized-monitoring.html">Prev</a> </td>
          <th width="60%" align="center"> </th>
          <td width="20%" align="right"> </td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="appendix" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="cli_command_reference"></a>Appendix A. 
        Command Line Interface (CLI) Command Reference
    </h2>
          </div>
        </div>
      </div>
      <p>
        The Command Line Interface (CLI) is run interactively or used
        to run single commands. The general usage to start the CLI is:
    </p>
      <p>Usage:</p>
      <pre class="programlisting">java -jar KVHOME/lib/kvstore.jar runadmin
-host &lt;hostname&gt; -port &lt;port&gt; [single command and arguments] </pre>
      <p>
      If you want to run a script file, you can use the "load" command on the
      command line:
    </p>
      <p>Usage:</p>
      <pre class="programlisting">java -jar KVHOME/lib/kvstore.jar runadmin
-host &lt;hostname&gt; -port &lt;port&gt; load -file &lt;path-to-script&gt; </pre>
      <p>
        If none of the optional arguments are passes, it starts interactively.
        If additional arguments are passed they are interpreted as a single command
        to run, then return. The interactive prompt for the CLI is:
    </p>
      <pre class="programlisting">"kv-&gt; "</pre>
      <p>
      Upon successful completion of the command, the CLI's process exit code is zero.
      If there is an error, the exit code will be non-zero. 
    </p>
      <p>
      The CLI comprises a number of commands, some of which have subcommands.
      Complex commands are grouped by general function, such as "show" for
      displaying information or "ddl" for manipulating schema. All commands
      accept the following flags:
      </p>
      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>-help </p>
            <p>Displays online help for the command or subcommand. </p>
          </li>
          <li>
            <p>-verbose</p>
            <p>Enables verbose output for the command.</p>
          </li>
        </ul>
      </div>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="commands_subcommands"></a>
    Commands and Subcommands
   </h2>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#configure_store">
        configure
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#connect">
        connect
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#ddl">
        ddl
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#exit">
        exit
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#help">
        help
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#hidden">
        hidden
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#history">
        history
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#load">
        load
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#logtail">
        logtail
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#ping">
        ping
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#plan">
        plan
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#change-policy">
        change-policy
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#pool">
        pool
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#show">
        show
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#snapshot">
        snapshots
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#topology">
        topology
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#verbose">
        verbose
    </a>
              </span>
            </dt>
            <dt>
              <span class="sect2">
                <a href="cli_command_reference.html#verify">
        verify
    </a>
              </span>
            </dt>
          </dl>
        </div>
        <p>
     This appendix contains the following information on the
     commands and subcommands:
     </p>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="configure_store"></a>
        configure
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">configure -name &lt;storename&gt; </pre>
          <p>
        Configures a new store. This call must be made
        before any other administration can be performed.
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="connect"></a>
        connect
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">connect -host &lt;hostname&gt; -port &lt;registry port&gt; </pre>
          <p>
        Connects to the specified host and registry port
        to perform administrative functions. An Admin 
        service must be active on the target host. This
        command can be used if the initial connection
        information is lost or incorrect.
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="ddl"></a>
        ddl
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates operations that manipulate schemas in the store. The subcommands are
        as follows: 
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
          <a class="xref" href="cli_command_reference.html#add_ddl_schema" title="ddl add-schema">
      ddl add-schema
      </a>
          </p>
              </li>
              <li>
                <p>
          <a class="xref" href="cli_command_reference.html#enable_ddl_schema" title="ddl enable-schema">
      ddl enable-schema
      </a>
          </p>
              </li>
              <li>
                <p>
          <a class="xref" href="cli_command_reference.html#disable_ddl_schema" title="ddl disable-schema">
      ddl disable-schema
      </a>
          </p>
              </li>
            </ul>
          </div>
          <p>
       For details on managing schema in the store, see
       <a class="xref" href="provideschema.html" title="Managing Avro Schema">Managing Avro Schema</a>.
   </p>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="add_ddl_schema"></a>
      ddl add-schema
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">ddl add-schema &lt;-file &lt;file&gt; | -string &lt;schema string&gt;&gt; 
[-evolve] [-force] </pre>
            <p>
               Use this subcommand to add a new schema or change
               (&lt;evolve&gt;) an existing schema with the same name. Use
               the -evolve flag to indicate that the schema is changing.
               Use the -force flag to add the schema in spite of the 
               evolution warnings. 
            </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="enable_ddl_schema"></a>
      ddl enable-schema
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">ddl enable-schema -name &lt;name&gt;.&lt;ID&gt; </pre>
            <p>
             Use this subcommand to enable an existing, previously
             disabled schema.
            </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="disable_ddl_schema"></a>
      ddl disable-schema
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">ddl disable-schema -name &lt;name&gt;.&lt;ID&gt; </pre>
            <p>
             Use this subcommand to disable an existing schema.
            </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="exit"></a>
        exit
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">exit | quit </pre>
          <p>
        Exits the interactive command shell.
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="help"></a>
        help
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">help [command [sub-command]] </pre>
          <p>
        Prints help messages. With no arguments
        the top-level shell commands are listed.
        With additional commands and subcommands,
        additional detail is provided.
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="hidden"></a>
        hidden
    </h3>
              </div>
            </div>
          </div>
          <p>
        Toggles visibility and setting of parameters
        that are normally hidden. Use these parameters
        only if advised to do so by Oracle Support.
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="history"></a>
        history
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">history [-last &lt;n&gt;] [-from &lt;n&gt;] [-to &lt;n&gt;] </pre>
          <p>
        Displays command history. By default all history
        is displayed. Optional flags are used to choose
        ranges for display.
   </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="load"></a>
        load
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">load -file &lt;path to file&gt; </pre>
          <p>
        Loads the named file and interpret its contents 
        as a script of commands to be executed. If any of the
        commands in the script fail, execution will stop at that
        point.
   </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="logtail"></a>
        logtail
    </h3>
              </div>
            </div>
          </div>
          <p>
        Monitors the store-wide log file until interrupted
        by an "enter" key press.
   </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="ping"></a>
        ping
    </h3>
              </div>
            </div>
          </div>
          <p>
        Displays the status of runtime components of the
        store, excluding administrative services.
   </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="plan"></a>
        plan
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates operations, or jobs that modify store state.
        All subcommands with the exception of interrupt and wait
        change persistent state. Plans are asynchronous jobs so
        they return immediately unless -wait is used. Plan
        status can be checked using "show plans". The optional
        arguments for all plans include:
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
                    <code class="literal">-wait</code>
              </p>
                <p>
                  Wait for the plan to complete before returning.
              </p>
              </li>
              <li>
                <p>
                    <code class="literal">-plan-name</code>
              </p>
                <p>
                  The name for a plan. These are not unique.
              </p>
              </li>
              <li>
                <p>
                    <code class="literal">-noexecute</code>
              </p>
                <p>
                  Do not execute the plan. If specified, the plan can
                  be run later using "plan execute".
              </p>
              </li>
              <li>
                <p>
                    <code class="literal">-force</code>
              </p>
                <p>
                  Used to force plan execution and plan retry.
              </p>
              </li>
            </ul>
          </div>
          <p>
        The subcommands are as follows:
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_change_mountpoint" title="plan change-mountpoint">
      plan change-mountpoint
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_change-parameters" title="plan change-parameters">
      plan change-parameters
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_deploy-admin" title="plan deploy-admin">
      plan deploy-admin
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_deploy-datacenter" title="plan deploy-datacenter"> plan deploy-datacenter </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_deploy-sn" title="plan deploy-sn">
      plan deploy-sn
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_execute" title="plan execute">
      plan execute
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_interrupt" title="plan interrupt">
      plan interrupt
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_cancel" title="plan cancel">
      plan cancel
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_migrate-sn" title="plan migrate-sn">
      plan migrate-sn
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_remove-admin" title="plan remove-admin">
      plan remove-admin
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_remove-sn" title="plan remove-sn">
      plan remove-sn
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_start-service" title="plan start-service">
      plan start-service
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_stop-service" title="plan stop-service">
      plan stop-service
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_deploy-topology" title="plan deploy-topology">
      plan deploy-topology
      </a>
       </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#plan_wait" title="plan wait">
      plan wait
      </a>
       </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_change_mountpoint"></a>
      plan change-mountpoint
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan change-mountpoint -sn &lt;id&gt; -path &lt;path&gt; -add | -remove
                       [-plan-name &lt;name&gt;] [-wait] [-noexecute]
                       [-force]</pre>
            <p>
            Adds or removes a mount point on
            a Storage Node.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_change-parameters"></a>
      plan change-parameters
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan change-parameters -service &lt;id&gt; | -all-rns | -all-admins 
                       [-dry-run] [-plan-name &lt;name&gt;] [-wait] 
                       [-noexecute] [-force] -params [name=value]</pre>
            <p>
             Changes parameters for the specified service or all
             service instances of the same type. The -service flag
             allows a single instance to be affected. The -all-*
             flags can be used to change all instance of the service
             type. The parameters to change follow the -params flag
             and are separated by spaces. The parameter values with
             embedded spaces must be quoted; for example, name="value
             with spaces". If -dry-run is specified, the new parameters
             are returned without changing them.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_deploy-admin"></a>
      plan deploy-admin
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan deploy-admin -sn &lt;id&gt; -port &lt;http port&gt; [-plan-name &lt;name&gt;] 
                  [-wait] [-noexecute] [-force] </pre>
            <p>
               Deploys an Admin to the specified Storage Node.
               Its graphical interface listens
               on the specified port.
              </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_deploy-datacenter"></a> plan deploy-datacenter </h4>
                </div>
              </div>
            </div>
            <p>
          Usage:
      </p>
            <pre class="programlisting">plan deploy-datacenter -name &lt;datacenter name&gt; 
                       -rf &lt;replication factor&gt; [-plan-name &lt;name&gt;] 
                       [-wait] [-noexecute] [-force] </pre>
            <p>
            Deploys the specified datacenter to the store.
        </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
              <h3 class="title">Note</h3>
              <p>
                A store can currently have only one Data Center.
            </p>
            </div>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_deploy-sn"></a>
      plan deploy-sn
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan deploy-sn -dc &lt;id&gt; | -dcname &lt;name&gt; -host &lt;host&gt; -port &lt;port&gt;
               [-plan-name &lt;name&gt;] [-wait] [-noexecute] [-force] </pre>
            <p>
               Deploys the Storage Node at the specified host
               and port into the specified datacenter.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_execute"></a>
      plan execute
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan execute -id &lt;id&gt; | -last [-wait] [-force]</pre>
            <p>
             Executes a created but not yet executed plan.
             The plan must have been previously created using the
             -noexecute flag . Use -last to reference the most
             recently created plan. 
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_interrupt"></a>
      plan interrupt
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan interrupt -id &lt;plan id&gt; | -last </pre>
            <p>
             Interrupts a running plan. An interrupted plan
             can only be re-executed or canceled. Use -last to
             reference the most recently created plan.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_cancel"></a>
      plan cancel
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan cancel -id &lt;plan id&gt; | -last </pre>
            <p>
            Cancels a plan that is not running. A running
             plan must be interrupted before it can be canceled.
             Use -last to reference the most recently created plan.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_migrate-sn"></a>
      plan migrate-sn
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan migrate-sn -from &lt;id&gt; -to &lt;id&gt; [-admin-port &lt;admin port&gt;]
                [-plan-name &lt;name&gt;] [-wait] [-noexecute] [-force]</pre>
            <p>
             Migrates the services from one Storage Node to another. The
             old node must not be running. If the old node hosted an admin
             service, the -admin-port argument is required.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_remove-admin"></a>
      plan remove-admin
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan remove-admin -admin &lt;id&gt; [-plan-name &lt;name&gt;]
               [-wait] [-noexecute] [-force] </pre>
            <p>
               Removes the specified Admin replica.
           </p>
            <p>
               You cannot remove the sole Admin if only one Admin
               instance is configured.  Also, if you try to remove an
               Admin when the removal would result in there being
               fewer than three deployed Admins, the command will fail
               unless you give the <code class="literal">-force</code> flag.
           </p>
            <p>
               If you try to remove the Admin that is currently the
               master, mastership will transfer to another Admin.  The
               plan will be interrupted , and subsequently can be
               re-executed on the new master Admin, by using the
               <code class="literal">plan execute</code> command.
           </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_remove-sn"></a>
      plan remove-sn
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan remove-sn -sn &lt;id&gt; [-plan-name &lt;name&gt;]
               [-wait] [-noexecute] [-force] </pre>
            <p>
               Removes the specified Storage Node from the
               topology.
           </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_start-service"></a>
      plan start-service
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan start-service -service &lt;id&gt; | -all-rns [-plan-name &lt;name&gt;]
               [-wait] [-noexecute] [-force]</pre>
            <p>
               Starts the specified service(s).
           </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_stop-service"></a>
      plan stop-service
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan stop-service -service &lt;id&gt; | -all-rns </pre>
            <p>
            Stops the specified service(s).
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_deploy-topology"></a>
      plan deploy-topology
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan deploy-topology -name &lt;topology name&gt; [-plan-name &lt;name&gt;]
               [-wait] [-noexecute] [-force]</pre>
            <p>
                Deploys the specified topology to the store.  This
                operation can take a while, depending on the size and state
                of the store.
           </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="plan_wait"></a>
      plan wait
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">plan wait -id &lt;id&gt; | -last [-seconds &lt;timeout in seconds&gt;]</pre>
            <p>
            Waits for the specified plan to complete. If the optional
             timeout is specified, wait that long, otherwise wait indefinitely.
              Use -last to reference the most recently created plan.
           </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="change-policy"></a>
        change-policy
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">change-policy [-dry-run] -params [name=value]*</pre>
          <p>
        Modifies store-wide policy parameters that apply
        to not yet deployed services. The parameters to
        change follow the -params flag and are separated
        by spaces. 
    </p>
          <p>
        Parameter values with embedded spaces must be quoted,
        for example, name="value with spaces". If -dry-run is
        specified, the new parameters are returned without
        changing them. 
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="pool"></a>
        pool
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates commands that manipulates Storage Node pools,
        which are used for resource allocations. The subcommands are
        as follows:
     </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#pool_create" title="pool create">
      pool create
      </a>
             </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#pool_remove" title="pool remove">
      pool remove
      </a>
             </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#pool_join" title="pool join">
      pool join
      </a>
             </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="pool_create"></a>
      pool create
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">pool create -name &lt;name&gt; </pre>
            <p>
            Creates a new Storage Node pool to be used
            for resource distribution when creating or modifying
            a store.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="pool_remove"></a>
      pool remove
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">pool remove -name &lt;name&gt; </pre>
            <p>Removes a Storage Node pool.</p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="pool_join"></a>
      pool join
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">pool join -name &lt;name&gt; [-service] &lt;snX&gt;* </pre>
            <p>
            Adds Storage Nodes to an existing storage
            node pool.
         </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="show"></a>
        show
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates commands that display the state of the store
        and its components. The subcommands are as follows:
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_parameters" title="show parameters">
      show parameters
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_admins" title="show admins">
      show admins
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_events" title="show events">
      show events
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_faults" title="show faults">
      show faults
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_perf" title="show perf">
      show perf
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_plans" title="show plans">
      show plans
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_pools" title="show pools">
      show pools
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_schemas" title="show schemas">
      show schemas
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_snapshots" title="show snapshots">
      show snapshots
      </a>
            </p>
              </li>
              <li>
                <p>
            <a class="xref" href="cli_command_reference.html#show_topology" title="show topology">
      show topology
      </a>
            </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_parameters"></a>
      show parameters
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show parameters -policy | -service &lt;name&gt; </pre>
            <p>
            Displays service parameters and state for the specified
            service. The service may be a RepNode, StorageNode, or 
            Admin service, as identified by any valid string,
            for example rg1-rn1, sn1, admin2, etc. Use the -policy flag
            to show global policy parameters.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_admins"></a>
      show admins
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show admins </pre>
            <p>
            Displays basic information about Admin services.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_events"></a>
      show events
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show events [-id &lt;id&gt;] | [-from &lt;date&gt;] [-to &lt;date&gt; ] 
            [-type &lt;stat | log | perf&gt;]</pre>
            <p>
            Displays event details or list of store events. The status
            events indicate changes in service status.
        </p>
            <p>
            Log events are noted if they require attention.
        </p>
            <p>
            Performance events are not usually critical but must be
            investigated. Events marked SEVERE must always be investigated.
        </p>
            <p>
            The following date/time formats are accepted. They are
            interpreted in the local time zone.
        </p>
            <table class="simplelist" border="0" summary="Simple list">
              <tr>
                <td>
                  <span class="emphasis">
                    <em>MM-dd-yy HH:mm:ss:SS</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>MM-dd-yy HH:mm:ss</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>MM-dd-yy HH:mm</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>MM-dd-yy</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>HH:mm:ss:SS</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>HH:mm:ss</em>
                  </span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="emphasis">
                    <em>HH:mm</em>
                  </span>
                </td>
              </tr>
            </table>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_faults"></a>
      show faults
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show faults [-last] [-command &lt;command index&gt;] </pre>
            <p>
            Displays faulting commands. By default all available
            faulting commands are displayed. Individual fault
            details can be displayed using the -last and -command
            flags.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_perf"></a>
      show perf
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show perf </pre>
            <p>
            Displays recent performance information for each
            RepNode.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_plans"></a>
      show plans
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show plans [-id &lt;id&gt; | -last] </pre>
            <p>
            Shows details of the specified plan or list all plans that
            have been created along with their corresponding plan IDs
            and status. Use -last to show details of the most recent
            created plan.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_pools"></a>
      show pools
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show pools </pre>
            <p>
            Lists Storage Node pools.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_schemas"></a>
      show schemas
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show schemas [-disabled] | [-name &lt;name&gt;] </pre>
            <p>
            Displays schema details of the named schema or a list of
            schemas registered with the store. The -disabled flag enables
            listing of disabled schemas.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_snapshots"></a>
      show snapshots
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show snapshots [-sn &lt;id&gt;] </pre>
            <p>
            Lists snapshots on the specified Storage Node. If no
            Storage Node is specified, one is chosen from the store.
            You can use this command to view the existing snapshots.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="show_topology"></a>
      show topology
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">show topology [-dc] [-rn] [-sn] [-store] [-status] [-perf] </pre>
            <p>
            Displays the store topology. By default it shows the entire
            topology. The optional flags restrict the display to one or
            more of Datacenters, RepNodes, StorageNodes and Storename,
            or specify service status or performance.
        </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="snapshot"></a>
        snapshots
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates commands that create and delete snapshots, which are
        used for backup and restore. The subcommands are as follows:
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
             <a class="xref" href="cli_command_reference.html#snapshot_create" title="snapshot create">
      snapshot create
      </a>
             </p>
              </li>
              <li>
                <p>
             <a class="xref" href="cli_command_reference.html#snapshot_remove" title="snapshot remove">
      snapshot remove
      </a>
             </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="snapshot_create"></a>
      snapshot create
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">snapshot create -name &lt;name&gt; </pre>
            <p>
            Creates a new snapshot using the specified name
            as the prefix.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="snapshot_remove"></a>
      snapshot remove
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">snapshot remove -name &lt;name&gt; | -all </pre>
            <p>
            Removes the named snapshot. If -all is specified, remove
            all snapshots.
        </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="topology"></a>
        topology
    </h3>
              </div>
            </div>
          </div>
          <p>
        Encapsulates commands that manipulate store topologies. Examples
        are redistribution/rebalancing of nodes or changing replication
        factor. Topologies are created and modified using this command.
        They are then deployed by using the "plan deploy-topology"
        command.The subcommands are as follows: 
    </p>
          <div class="itemizedlist">
            <ul type="disc">
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_change-repfactor" title="topology change-repfactor">
      topology change-repfactor
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_clone" title="topology clone">
      topology clone
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_create" title="topology create">
      topology create
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_delete" title="topology delete">
      topology delete
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_list" title="topology list">
      topology list
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_move-repnode" title="topology move-repnode">
      topology move-repnode
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_preview" title="topology preview">
      topology preview
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_rebalance" title="topology rebalance">
      topology rebalance
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_rebalance" title="topology rebalance">
      topology rebalance
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_redistribute" title="topology redistribute">
      topology redistribute
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_validate" title="topology validate">
      topology validate
      </a>
           </p>
              </li>
              <li>
                <p>
                <a class="xref" href="cli_command_reference.html#topology_view" title="topology view">
      topology view
      </a>
           </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_change-repfactor"></a>
      topology change-repfactor
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology change-repfactor -name &lt;name&gt;  -pool &lt;pool name&gt;
                          -dc &lt;id&gt; | -dcname &lt;name&gt; 
                          -rf &lt;replication factor&gt; </pre>
            <p>
            Modifies the topology to change the replication
            factor of the specified datacenter to a new value.
            The replication factor may not be decreased at
            this time.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_clone"></a>
      topology clone
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology clone -from &lt;from topology&gt; -name &lt;to topology&gt;</pre>
            <p>
              or
          </p>
            <pre class="programlisting">topology clone -current -name &lt;to topology&gt; </pre>
            <p>
            Clones an existing topology to a new candidate
            topology to be used for topology change operations.
           </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_create"></a>
      topology create
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology create -name &lt;candidate name&gt; - pool &lt;pool name&gt;
                -partitions &lt;num&gt; </pre>
            <p>
            Creates a new topology with the specified number
            of partitions using the specified storage pool.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_delete"></a>
      topology delete
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology delete -name &lt;name&gt; </pre>
            <p>Deletes a topology.</p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_list"></a>
      topology list
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology list </pre>
            <p>Lists explaining the topologies.</p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_move-repnode"></a>
      topology move-repnode
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology move-repnode -name &lt;name&gt; -rn &lt;id&gt; </pre>
            <p>
            Modifies the topology to move the specified
            RepNode to an available Storage Node chosen by the system.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_preview"></a>
      topology preview
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology preview -name &lt;name&gt; [-start &lt;from topology&gt;]</pre>
            <p>
            Previews the changes that would be made for
            the named topology relative to a starting topology.
            If -start is not specified, the current topology is
            used. This command should be used before deploying
            a new topology.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_rebalance"></a>
      topology rebalance
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology rebalance -name &lt;name&gt; -pool &lt;pool name&gt; 
                   [-dc &lt;id&gt; | -dcname &lt;name&gt;]</pre>
            <p>
              Modifies the named topology to create a balanced topology.
              If the optional -dc flag is used, only Storage Nodes from the
              specified datacenter are used for the operation.
         </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_redistribute"></a>
      topology redistribute
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology redistribute -name &lt;name&gt; -pool &lt;pool name&gt; </pre>
            <p>
            Modifies the named topology to redistribute resources to more
            efficiently use those available.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_validate"></a>
      topology validate
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology validate [-name &lt;name&gt;] </pre>
            <p>
            Validates the specified topology. If no topology is specified, the
            current topology is validated. Validation generates violations 
            and notes.
        </p>
            <p>
            Violations are issues that can cause problems and should be
            investigated.
        </p>
            <p>
            Notes are informational and highlight configuration oddities
            that may be potential issues, but may be expected.
        </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="topology_view"></a>
      topology view
      </h4>
                </div>
              </div>
            </div>
            <p>Usage:</p>
            <pre class="programlisting">topology view -name &lt;name&gt; </pre>
            <p>
            Views details of the specified topology.
        </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="verbose"></a>
        verbose
    </h3>
              </div>
            </div>
          </div>
          <p>
        Used to toggle the global verbosity setting. This
        property can also be set per-command basis using
        the -verbose flag. 
    </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="verify"></a>
        verify
    </h3>
              </div>
            </div>
          </div>
          <p>Usage:</p>
          <pre class="programlisting">verify [-silent] </pre>
          <p>
        Verifies the store configuration by iterating the components
        and checking their state against that expected in the Admin
        database. This call may take a while on a large store. 
    </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="standardized-monitoring.html">Prev</a> </td>
          <td width="20%" align="center"> </td>
          <td width="40%" align="right"> </td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Chapter 8. 
      Standardized Monitoring Interfaces
    </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
