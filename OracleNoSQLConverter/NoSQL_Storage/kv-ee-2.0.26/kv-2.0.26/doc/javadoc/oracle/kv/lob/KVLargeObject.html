<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Sun Jan 27 19:19:33 EST 2013 -->
<TITLE>
KVLargeObject (Oracle NoSQL Database API)
</TITLE>

<META NAME="date" CONTENT="2013-01-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../style.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KVLargeObject (Oracle NoSQL Database API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/KVLargeObject.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle NoSQL Database</b><br><font size=\"-1\"> version 11gR2.2.0.26</font>
      </EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../oracle/kv/lob/InputStreamVersion.html" title="class in oracle.kv.lob"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../oracle/kv/lob/PartialLOBException.html" title="class in oracle.kv.lob"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?oracle/kv/lob/KVLargeObject.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KVLargeObject.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
oracle.kv.lob</FONT>
<BR>
Interface KVLargeObject</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../oracle/kv/KVStore.html" title="interface in oracle.kv">KVStore</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>KVLargeObject</B></DL>
</PRE>

<P>
The KVLargeObject interface defines the operations used to read and write
 Large Objects (LOBs) such as audio and video files. As a general rule, any
 object larger than 1 MB is a good candidate for representation as a LOB.
 The LOB API permits access to large values, without having to materialize
 the value in its entirety by providing streaming APIs for reading and
 writing these objects.
 <p>
 A LOB is stored as a sequence of chunks whose sizes are optimized for the
 underlying storage system. The chunks constituting a LOB may not all be the
 same size. Individual chunk sizes are chosen automatically by the system
 based upon its knowledge of the underlying storage architecture and
 hardware. Splitting a LOB into chunks permits low latency operations across
 mixed work loads with values of varying sizes. The stream based APIs serve
 to insulate the application from the actual representation of the LOB in the
 underlying storage system.
 <p>
 The methods used to read and insert LOBs are not atomic. Relaxing the
 atomicity requirement permits distribution of chunks across the entire
 store. It's the application's responsibility to coordinate operations on a
 LOB. The implementation will make a good faith effort to detect concurrent
 modification of an LOB and throw
 <code>ConcurrentModificationException</code> when it detects such
 concurrency conflicts but does not guarantee that it will detect all such
 conflicts. The safe course of action upon encountering this exception is to
 delete the LOB and replace it with a new value after fixing the application
 level coordination issue that provoked the exception.
 <p>
 Failures during a LOB modification operation result in the creation of
 a <code>partial</code> LOB. The LOB value of a <code>partial</code> LOB is
 in some intermediate state, where it cannot be read by the application;
 attempts to <code>getLOB</code> on a partial LOB will result in a
 <code>PartialLOBException</code>.
 A partial LOB resulting from an incomplete <code>putLOB</code> operation can
 be repaired by retrying the <code>putLOB</code> operation. Or it can be
 deleted and a new key/value pair can be created in its place. A partial LOB
 resulting from an incomplete delete operation must have the delete retried.
 The documentation associated with individual LOB methods describes their
 behavior when invoked on partial LOBs in greater detail.
 <p>
 LOBs, due to their representation as a sequence of chunks, must be accessed
 exclusively via the LOB APIs defined in this interface. The family of
 <code>KVStore.get</code> methods when applied to a LOB key will be presented
 with a value that is internal to the KVS implementation and cannot be used
 directly by the application.
 <p>
 Keys associated with LOBs must have a trailing suffix string (as defined by
 <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBSuffix()"><CODE>KVStoreConfig.getLOBSuffix()</CODE></A>) at the end of their final Key component.
 This requirement permits non-LOB methods to check for inadvertent
 modifications to LOB objects.
 <p>
 All methods in this class verify that the key used to access LOBs meets this
 trailing suffix requirement and throw <code>IllegalArgumentException</code>
 if the verification fails. The use of the name <code>lobKey</code> for the
 key argument in the method signatures below emphasizes this requirement.
 <p>
 Here is a summary of LOB related key checks performed across all methods:
 <ul>
 <li>
 All non-LOB write operations check for the absence of the LOB suffix as part
 of the other key validity checks. If the check fails it will result in a
 IllegalArgumentException.</li>
 <li>
 All non-LOB read operations return the associated opaque value used
 internally to construct a LOB stream.</li>
 <li>
 All LOB write and read operations in this interface check for the presence
 of the LOB suffix. If the check fails it will result in an
 IllegalArgumentException.
 </li>
 </ul>
 <p>
 Example:
 <p>
 The following simplified code fragment loads an mp3 file named "f1.mp3" into
 the store associating it with the key "f1.lob":
 <p>

 <pre>
 File file = new File(&quot;f1.mp3&quot;);

 FileInputStream fis = new FileInputStream(file);
 Version version = store.putLOB(Key.createKey(&quot;f1.lob&quot;),
                                fis,
                                Durability.COMMIT_WRITE_NO_SYNC,
                                5, TimeUnit.SECONDS);
 </pre>
 <p>
 The following simplified code fragment retrieves the LOB that was loaded
 above and computes its size:
 <p>

 <pre>
 InputStreamVersion istreamVersion =
     store.getLOB(Key.createKey(&quot;f1.lob&quot;),
                  Consistency.NONE_REQUIRED,
                  5, TimeUnit.SECONDS);

 InputStream stream = istreamVersion.getInputStream();
 int byteCount = 0;
 while (stream.read() != -1) {
     byteCount++;
 }
 </pre>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>2.0</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/kv/lob/KVLargeObject.html#deleteLOB(oracle.kv.Key, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)">deleteLOB</A></B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
          <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
          long&nbsp;lobTimeout,
          <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes the LOB associated with the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../oracle/kv/lob/InputStreamVersion.html" title="class in oracle.kv.lob">InputStreamVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/kv/lob/KVLargeObject.html#getLOB(oracle.kv.Key, oracle.kv.Consistency, long, java.util.concurrent.TimeUnit)">getLOB</A></B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
       <A HREF="../../../oracle/kv/Consistency.html" title="class in oracle.kv">Consistency</A>&nbsp;consistency,
       long&nbsp;lobTimeout,
       <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an InputStream representing the underlying LOB value associated
 with the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)">putLOB</A></B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
       <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
       <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
       long&nbsp;lobTimeout,
       <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Put a key/LOB value pair, inserting new value or overwriting an existing
 pair as appropriate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOBIfAbsent(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)">putLOBIfAbsent</A></B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
               <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
               <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
               long&nbsp;lobTimeout,
               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Put a key/LOB value pair, but only if no value or a partial LOB for
 the given key is present.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOBIfPresent(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)">putLOBIfPresent</A></B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
                <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
                long&nbsp;lobTimeout,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Put a key/LOB value pair, but only if a complete value for the given key
 is present.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
putLOB</H3>
<PRE>
<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A> <B>putLOB</B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
               <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
               <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
               long&nbsp;lobTimeout,
               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)
               throws <A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A>,
                      <A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A>,
                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A>,
                      <A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A>,
                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Put a key/LOB value pair, inserting new value or overwriting an existing
 pair as appropriate. If a new key/LOB value pair was successfully
 inserted or updated, the (non-null) version of the new KV pair is
 returned. Failures result in one of the exceptions listed below being
 thrown.
 <p>
 The value associated with the large object (LOB) is obtained by reading
 the <code>InputStream</code> associated with the <code>lobStream</code>
 parameter. The stream must be positioned at the first byte of the LOB
 value and must return -1 after the last byte of the LOB has been
 fetched.  For best performance the stream should support an efficient
 implementation of <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#read(byte[], int, int)" title="class or interface in java.io"><CODE>InputStream.read(byte[], int, int)</CODE></A>. The stream
 implementation is not required to support the
 <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#mark(int)" title="class or interface in java.io"><CODE>InputStream.mark(int)</CODE></A> and <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#reset()" title="class or interface in java.io"><CODE>InputStream.reset()</CODE></A> methods, that is,
 <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#markSupported()" title="class or interface in java.io"><CODE>InputStream.markSupported()</CODE></A> may return false. If the methods
 are supported, they may be used during internal retry operations. Such
 retry operations are otherwise transparent to the application.
 <p>
 This method, like all LOB methods, is not atomic. Failures (like the
 loss of network connectivity) while an insert operation is in progress
 may result in a partially inserted LOB.
 <p>
 If the method detects a partially inserted LOB, it will skip reading
 the bytes that were already loaded and resume insertion of the LOB after
 ensuring that the trailing bytes in the partial LOB match the ones
 supplied by the <code>lobStream</code>. The number of bytes that are
 matched is determined by the configuration parameter
 <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBVerificationBytes()"><CODE>KVStoreConfig.getLOBVerificationBytes()</CODE></A>. If the trailing bytes
 do not match, it throws an <code>IllegalArgumentException</code>.
 <p>
 A partially deleted LOB is deleted in its entirety and replaced with the
 new key/value pair.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lobKey</CODE> - the key associated with the LOB.<DD><CODE>lobStream</CODE> - the stream of bytes representing the LOB as described
 earlier.<DD><CODE>durability</CODE> - the durability associated with the operation. If null,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getDurability()"><CODE>default durability</CODE></A> is used.<DD><CODE>lobTimeout</CODE> - is an upper bound on the time taken for storing each
 chunk. A best effort is made not to exceed the specified limit. If zero,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBTimeout(java.util.concurrent.TimeUnit)"><CODE>KVStoreConfig.getLOBTimeout(java.util.concurrent.TimeUnit)</CODE></A> value is used.<DD><CODE>timeoutUnit</CODE> - is the unit of the timeout parameter and may be null
 only if timeout is zero.
<DT><B>Returns:</B><DD>the Version associated with the newly inserted LOB
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A></CODE> - if the specified <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv"><CODE>Durability</CODE></A> cannot
 be satisfied.
<DD><CODE><A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A></CODE> - if the chunk timeout interval was
 exceeded during the insertion of a chunk or LOB metadata.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></CODE> - if it detects that an attempt
 was made to modify the object while the insertion was in progress.
<DD><CODE><A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A></CODE> - if the operation cannot be completed for any
 reason.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if one is generated by the <code>lobStream</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="putLOBIfAbsent(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
putLOBIfAbsent</H3>
<PRE>
<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A> <B>putLOBIfAbsent</B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
                       <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
                       long&nbsp;lobTimeout,
                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)
                       throws <A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A>,
                              <A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A>,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A>,
                              <A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A>,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Put a key/LOB value pair, but only if no value or a partial LOB for
 the given key is present. If the <code>lobKey</code> is present it
 returns null. Its behavior is otherwise identical to
 <A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB</CODE></A>.
 Like the <A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB</CODE></A> operation, it will resume
 the insertion if it encounters a partial LOB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lobKey</CODE> - the key associated with the LOB.<DD><CODE>lobStream</CODE> - the stream of bytes representing the LOB as described
 earlier.<DD><CODE>durability</CODE> - the durability associated with the operation. If null,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getDurability()"><CODE>default durability</CODE></A> is used.<DD><CODE>lobTimeout</CODE> - is an upper bound on the time taken for storing each
 chunk. A best effort is made not to exceed the specified limit. If zero,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBTimeout(java.util.concurrent.TimeUnit)"><CODE>KVStoreConfig.getLOBTimeout(java.util.concurrent.TimeUnit)</CODE></A> value is used.<DD><CODE>timeoutUnit</CODE> - is the unit of the timeout parameter and may be null
 only if timeout is zero.
<DT><B>Returns:</B><DD>the version of the new value, or null if an existing value is
 present and the put is unsuccessful.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A></CODE> - if the specified <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv"><CODE>Durability</CODE></A> cannot
 be satisfied.
<DD><CODE><A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A></CODE> - if the chunk timeout interval was
 exceeded during the insertion of a chunk or LOB metadata.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></CODE> - if it detects that an attempt
 was made to modify the object while the insertion was in progress.
<DD><CODE><A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A></CODE> - if the operation cannot be completed for any
 reason.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if one is generated by the <code>lobStream</code><DT><B>See Also:</B><DD><A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="putLOBIfPresent(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
putLOBIfPresent</H3>
<PRE>
<A HREF="../../../oracle/kv/Version.html" title="class in oracle.kv">Version</A> <B>putLOBIfPresent</B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
                        <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;lobStream,
                        <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
                        long&nbsp;lobTimeout,
                        <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)
                        throws <A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A>,
                               <A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A>,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A>,
                               <A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A>,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Put a key/LOB value pair, but only if a complete value for the given key
 is present. If the <code>lobKey</code> is absent it returns null.
 Its behavior is otherwise identical to <A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB</CODE></A>.
 Like the <A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB</CODE></A> operation, it will resume
 the insertion if it encounters a partial LOB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lobKey</CODE> - the key associated with the LOB.<DD><CODE>lobStream</CODE> - the stream of bytes representing the LOB as described
 earlier.<DD><CODE>durability</CODE> - the durability associated with the operation. If null,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getDurability()"><CODE>default durability</CODE></A> is used.<DD><CODE>lobTimeout</CODE> - is an upper bound on the time taken for storing each
 chunk. A best effort is made not to exceed the specified limit. If zero,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBTimeout(java.util.concurrent.TimeUnit)"><CODE>KVStoreConfig.getLOBTimeout(java.util.concurrent.TimeUnit)</CODE></A> value is used.<DD><CODE>timeoutUnit</CODE> - is the unit of the timeout parameter and may be null
 only if timeout is zero.
<DT><B>Returns:</B><DD>the version of the new value, or null if no existing value is
 present and the put is unsuccessful.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A></CODE> - if the specified <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv"><CODE>Durability</CODE></A> cannot
 be satisfied.
<DD><CODE><A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A></CODE> - if the chunk timeout interval was
 exceeded during the insertion of a chunk or LOB metadata.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></CODE> - if it detects that an attempt
 was made to modify the object while the insertion was in progress.
<DD><CODE><A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A></CODE> - if the operation cannot be completed for any
 reason.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if one is generated by the <code>lobStream</code><DT><B>See Also:</B><DD><A HREF="../../../oracle/kv/lob/KVLargeObject.html#putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><CODE>putLOB(oracle.kv.Key, java.io.InputStream, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLOB(oracle.kv.Key, oracle.kv.Consistency, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
getLOB</H3>
<PRE>
<A HREF="../../../oracle/kv/lob/InputStreamVersion.html" title="class in oracle.kv.lob">InputStreamVersion</A> <B>getLOB</B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
                          <A HREF="../../../oracle/kv/Consistency.html" title="class in oracle.kv">Consistency</A>&nbsp;consistency,
                          long&nbsp;lobTimeout,
                          <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)
                          throws <A HREF="../../../oracle/kv/ConsistencyException.html" title="class in oracle.kv">ConsistencyException</A>,
                                 <A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A>,
                                 <A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A>,
                                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></PRE>
<DL>
<DD>Returns an InputStream representing the underlying LOB value associated
 with the key.
 <p>
 An attempt to access a partial LOB will result in a
 <code>PartialLOBException</code> being thrown.
 <p>
 The returned input stream can be read to obtain the value associated
 with the LOB. The application can use the InputStream method
 <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#skip(long)" title="class or interface in java.io"><CODE>InputStream.skip(long)</CODE></A> in conjunction with
 <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#mark(int)" title="class or interface in java.io"><CODE>InputStream.mark(int)</CODE></A> and <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true#reset()" title="class or interface in java.io"><CODE>InputStream.reset()</CODE></A> to read random
 byte ranges within the LOB.
 <p>
 Reading the input stream can result in various exceptions like
 <code>ConsistencyException</code>,
 <code>RequestTimeoutException</code>,
 <code>ConcurrentModificationException</code> or
 <code>FaultException</code>, etc.
 All such exceptions are wrapped in <code>IOException</code>. Specialized
 stream readers can use <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getCause()" title="class or interface in java.lang"><CODE>Throwable.getCause()</CODE></A> to examine the
 underlying cause and take appropriate action. The application must
 ensure that the KVStore handle is not closed before the contents of the
 returned InputStream have been read. Such a premature close will result
 in an IOException when the stream is subsequently read.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lobKey</CODE> - the key used to lookup the key/value pair.<DD><CODE>consistency</CODE> - determines the consistency associated with the read
 used to lookup and read the value via the returned stream object. If
 null, the <A HREF="../../../oracle/kv/KVStoreConfig.html#getConsistency()"><CODE>default consistency</CODE></A> is
 used. Note that Consistency.Version cannot be used to access a LOB
 that's striped across multiple partitions; it will result in an
 IllegalArgumentException being thrown.<DD><CODE>lobTimeout</CODE> - is an upper bound on the time interval for
 retrieving a chunk or its associated metadata. A best effort is made not
 to exceed the specified limit. If zero, the
 <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBTimeout(java.util.concurrent.TimeUnit)"><CODE>KVStoreConfig.getLOBTimeout(java.util.concurrent.TimeUnit)</CODE></A> value is used.
 Note that this timeout
 also applies to read operations performed on the returned stream object.<DD><CODE>timeoutUnit</CODE> - is the unit of the timeout parameter, and may be null
 only if timeout is zero.
<DT><B>Returns:</B><DD>the input stream and version associated with the key, or null
 if there is no LOB associated with the key.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../oracle/kv/ConsistencyException.html" title="class in oracle.kv">ConsistencyException</A></CODE> - if the specified <A HREF="../../../oracle/kv/Consistency.html" title="class in oracle.kv"><CODE>Consistency</CODE></A> cannot
 be satisfied.
<DD><CODE><A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A></CODE> - if the chunk timeout interval was
 exceeded during the creation of the LOB stream.
<DD><CODE><A HREF="../../../oracle/kv/lob/PartialLOBException.html" title="class in oracle.kv.lob">PartialLOBException</A></CODE> - if it is invoked on a partial LOB
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></CODE> - if it detects that an attempt
 was made to modify the object while the operation was in progress
<DD><CODE><A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A></CODE> - if the operation cannot be completed for any
 reason.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteLOB(oracle.kv.Key, oracle.kv.Durability, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
deleteLOB</H3>
<PRE>
boolean <B>deleteLOB</B>(<A HREF="../../../oracle/kv/Key.html" title="class in oracle.kv">Key</A>&nbsp;lobKey,
                  <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv">Durability</A>&nbsp;durability,
                  long&nbsp;lobTimeout,
                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeoutUnit)
                  throws <A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A>,
                         <A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A>,
                         <A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A>,
                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></PRE>
<DL>
<DD>Deletes the LOB associated with the key. This method can be used to
 delete partial LOBs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lobKey</CODE> - the key associated with the LOB.<DD><CODE>durability</CODE> - the durability associated with the operation. If null,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getDurability()"><CODE>default durability</CODE></A> is used.<DD><CODE>lobTimeout</CODE> - is an upper bound on the time taken for deleting each
 chunk. A best effort is made not to exceed the specified limit. If zero,
 the <A HREF="../../../oracle/kv/KVStoreConfig.html#getLOBTimeout(java.util.concurrent.TimeUnit)"><CODE>KVStoreConfig.getLOBTimeout(java.util.concurrent.TimeUnit)</CODE></A> value is used.<DD><CODE>timeoutUnit</CODE> - is the unit of the timeout parameter, and may be null
 only if timeout is zero.
<DT><B>Returns:</B><DD>true if the delete is successful, or false if no existing value
 is present. Note that the method will return true if a partial LOB was
 deleted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../oracle/kv/DurabilityException.html" title="class in oracle.kv">DurabilityException</A></CODE> - if the specified <A HREF="../../../oracle/kv/Durability.html" title="class in oracle.kv"><CODE>Durability</CODE></A> cannot
 be satisfied.
<DD><CODE><A HREF="../../../oracle/kv/RequestTimeoutException.html" title="class in oracle.kv">RequestTimeoutException</A></CODE> - if the chunk timeout interval was
 exceeded.
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</A></CODE> - if it detects that an attempt
 was made to modify the object while the operation was in progress.
<DD><CODE><A HREF="../../../oracle/kv/FaultException.html" title="class in oracle.kv">FaultException</A></CODE> - if the operation cannot be completed for any
 reason.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/KVLargeObject.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle NoSQL Database</b><br><font size=\"-1\"> version 11gR2.2.0.26</font>
      </EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../oracle/kv/lob/InputStreamVersion.html" title="class in oracle.kv.lob"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../oracle/kv/lob/PartialLOBException.html" title="class in oracle.kv.lob"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?oracle/kv/lob/KVLargeObject.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KVLargeObject.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size=1>Copyright (c) 2011, 2013 Oracle and/or its affiliates.  All rights reserved.</font> 
</BODY>
</HTML>
